{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}
  Groups
{% endblock title %}

{% block content %}
  <div class='container'>
  <h2>Groups</h2>
  <br><br>
    {% if groups %}
      <nav class='pull-left'>
        <ul class="pager">
          {% if groups.has_previous %}
            <li><a href="?page={{ groups.previous_page_number }}">Prev</a></li>
          {% else %}
            <li class="disabled"><a href="#">Prev</a></li>
          {% endif %}
          {% if groups.has_next %}
            <li><a href="?page={{groups.next_page_number}}">Next</a></li>
          {% else %}
            <li class="disabled"><a href="#">Next</a></li>
          {% endif %}
        </ul>
      </nav>
      <table class='table table-hover '>
        <tbody>
          {% for group in groups %}
            <tr>
              <td><a href="{% url 'website:remove-group' group.id.hex %}{%if page%}?page={{page}}{%endif%}"><span class='fa fa-trash-o' style="color:red"></span></a>&nbsp;{{group.name}}&nbsp;<a target='_blank' href="{% url 'admin:api_group_change' group.id.hex %}"><span class='fa fa-external-link'></span></a></td>
              {% for duplicate in group.duplicates.all %}
              <td><a href="{% url 'website:merge-groups' duplicate.parent.id.hex duplicate.child.id.hex %}{%if page%}?page={{page}}{%endif%}">{{duplicate.child}}</a>&nbsp;<a target='_blank' href="{% url 'admin:api_group_change' duplicate.child.id.hex %}"><span class='fa fa-external-link'></span></a></td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
      <nav class='pull-left'>
        <ul class="pager">
          {% if groups.has_previous %}
            <li><a href="?page={{ groups.previous_page_number }}">Prev</a></li>
          {% else %}
            <li class="disabled"><a href="#">Prev</a></li>
          {% endif %}
          {% if groups.has_next %}
            <li><a href="?page={{groups.next_page_number}}">Next</a></li>
          {% else %}
            <li class="disabled"><a href="#">Next</a></li>
          {% endif %}
        </ul>
      </nav>
    {% else %}
      <h1>No Duplicates!</h1>
    {% endif %}
  </div>
{% endblock content %}
