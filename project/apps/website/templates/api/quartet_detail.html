{% extends 'base.html' %}
{% load staticfiles %}
{% load humanize %}

{% block title %}
    {{quartet.name}}
{% endblock title %}


{% block content %}
  <div class="container">
    <div class='page-header'>
      <p>
        <h2>{{quartet.name}}</h2>
      </p>
      <p class='lead'>
        Quartet detail.
      </p>
    </div>
    <div>
      <p>
        <h4>{{quartet.name}}</h4>
        {% if quartet.picture %}
          <img src='{% static quartet.picture.url %}' class='img-responsive img-thumbnail'><br><br>
        {% else %}
          <p>No Image Available</p>
        {% endif %}
        <ul>
          {% for member in members %}
            <li>{{member.get_part_display}}: {{member.singer.name}}</li>
          {% empty %}
            <li>No Members</li>
          {% endfor %}
        </ul>
        <ul>
          {% for performance in performances %}
            <li>{{performance}}</li>
          {% empty %}
            <li>No Members</li>
          {% endfor %}
        </ul>
            <div class="table-responsive">
      <table class='table'>
        <tr>
          <th>Round</th>
          <th>Songs</th>
          <th>MUS</th>
          <th>PRS</th>
          <th>SNG</th>
          <th>Total</th>
          <th>Running</th>
        </tr>
        {# Reorder display from monkeypatched view. #}
        {% for performance in performances|dictsort:'round' %}
          {{performance.contest}}
          <tr>
            <td>{{performance.get_round_display}}</td>
            <td>{{performance.song1|truncatechars:30}}<br>{{performance.song2|truncatechars:30}}</td>
            <td>{{performance.mus1_rata|floatformat:1}}<br>{{performance.mus2_rata|floatformat:1}}</td>
            <td>{{performance.prs1_rata|floatformat:1}}<br>{{performance.prs2_rata|floatformat:1}}</td>
            <td>{{performance.sng1_rata|floatformat:1}}<br>{{performance.sng2_rata|floatformat:1}}</td>
            <td>{{performance.song1_rata|floatformat:1}}<br>{{performance.song2_rata|floatformat:1}}</td>
            <td>{{performance.running|floatformat:1}}<br>{{performance.rnd|floatformat:1}}</td>
          </tr>
        {% endfor %}
      </table>
    </div>

      </p>
    </div>
  </div> <!-- /container -->
{% endblock content %}
