{% extends 'base.html' %}
{% load humanize %}

{% block content %}
  <main class="container">
    <section>
    <h2>
      Announcements
      </h2>
      <p>
      {{round.session.convention}}<br>
      {{round.session.convention.location}}, {{round.session.convention.human_date}}<br>
      {{round}}
      </p>
    </section>
    <section>
    <h3>Awards</h3>
    {% if contests %}
        {% for contest in contests %}
        <h4>{{contest}}</h4>
        <table class='table'>
        <thead>
        <tr>
        <th>Place</th>
        <th>Name</th>
        <th>Points</th>
        <th>Score</th>
    </tr>
        </thead>
        <tbody>
          {% for contestant in contest.contestants.all|slice:":5" %}
          <tr>
            <td>{{contestant.place}}</td>
            <td>{{contestant.name}}</td>
            <td>{{contestant.total_points}}</td>
            <td>{{contestant.total_score}}</td>
            </tr>
          {% endfor %}
        </tbody>
        </table>
        {% endfor %}
    {% else %}
    <p>(Contest not finished.)</p>
    {% endif %}
    </section>
  </main>
{% endblock content %}
